#######################################
### Scripts for Living Room devices
#######################################

### Turn on AVR, Projector, Projector Screen Down

turn_on_tv:
  sequence:
    - service: script.turn_on
      entity_id:
        - script.avr_turn_on_cable
    - delay:
        milliseconds: 200
    - service: script.turn_on
      entity_id:
        - script.projector_turn_on
    - delay:
        milliseconds: 200
    - service: script.turn_on
      entity_id:
        - script.projector_screen_down
    - delay:
        seconds: 30
    - service: switch.turn_off
      entity_id: switch.living_room_lamp

### Turn off AVR, Projector, Projector Screen Up

turn_off_tv:
  sequence:
    - service_template: >
        {% if is_state('sun.sun', 'below_horizon') %}
          switch.turn_on
        {% else %}
          switch.turn_off
        {% endif %}
      entity_id: switch.living_room_lamp
    - delay:
        seconds: 3
    - service: script.turn_on
      entity_id:
        - script.avr_avr_button
    - delay:
        milliseconds: 100
    - service: script.turn_on
      entity_id:
        - script.avr_turn_off
    - delay:
        milliseconds: 200
    - service: script.turn_on
      entity_id:
        - script.projector_turn_off
    - delay:
        milliseconds: 200
    - service: script.turn_on
      entity_id:
        - script.projector_screen_up
